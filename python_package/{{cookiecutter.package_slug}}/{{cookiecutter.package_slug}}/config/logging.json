{% if cookiecutter.include_custom_logger == "yes" %}
{
  "version": 1,
  "disable_existing_loggers": false,
  "filters": {
    "hostname_filter": {
      "()": "{{cookiecutter.package_slug}}.logger.HostnameFilter"
    }
  },
  "formatters": {
    "simple": {
      "format": "[%(levelname)s][%(asctime)s] - %(hostname)s - %(message)s"
    },
    "colored": {
      "()": "colorlog.ColoredFormatter",
      "format": "%(log_color)s[%(levelname)s]%(reset)s%(purple)s[%(asctime)s] %(reset)s%(cyan)s- %(hostname)s %(reset)s%(white)s- %(message)s",
      "log_colors": {
        "DEBUG":    "cyan",
        "INFO":     "green",
        "WARNING":  "yellow",
        "ERROR":    "red",
        "CRITICAL": "white,bg_red"
      }
    }
  },

  "handlers": {
    "console": {
      "class": "logging.StreamHandler",
      "level": "NOTSET",
      "formatter": "colored",
      "stream": "ext://sys.stdout",
      "filters": ["hostname_filter"]
    },

    "staging_file_handler": {
      "class": "logging.handlers.RotatingFileHandler",
      "level": "INFO",
      "formatter": "simple",
      "filename": "staging.log",
      "maxBytes": 10485760,
      "backupCount": 20,
      "encoding": "utf8",
      "filters": ["hostname_filter"]
    },

    "production_file_handler": {
      "class": "logging.handlers.RotatingFileHandler",
      "level": "ERROR",
      "formatter": "simple",
      "filename": "production.log",
      "maxBytes": 10485760,
      "backupCount": 20,
      "encoding": "utf8",
      "filters": ["hostname_filter"]
    },
    "sentry_handler": {
      "level": "ERROR",
      "class": "sentry_sdk.integrations.logging.EventHandler"
    }
  },

  "loggers": {
    "development": {
      "level": "DEBUG",
      "handlers": ["console"],
      "propagate": "no"
    },
    "testing": {
      "level": "DEBUG",
      "handlers": ["console"],
      "propagate": "no"
    },
    "staging": {
      "level": "INFO",
      "handlers": ["staging_file_handler", "console"],
      "propagate": "yes"
    },
    "production": {
      "level": "ERROR",
      "handlers": ["production_file_handler"],
      "propagate": "yes"
    }
  }
}
{% endif %}
